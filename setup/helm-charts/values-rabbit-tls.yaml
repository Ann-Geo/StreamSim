# values-openshift.yaml
global:
  compatibility:
    openshift:
      adaptSecurityContext: force

auth:
  username: rabbit
  password: rabbit
  erlangCookie: secretcookie

  tls:
    enabled: true 
    autoGenerated: true
    failIfNoPeerCert: false
    sslOptionsVerify: verify_none

replicaCount: 3                     # One broker per node

nodeSelector:
  region: datastreaming

affinity:                           
  podAntiAffinity:
    requiredDuringSchedulingIgnoredDuringExecution:
    - labelSelector:
        matchLabels:
          app.kubernetes.io/instance: rabbitmq
          app.kubernetes.io/name: rabbitmq
      topologyKey: kubernetes.io/hostname

resources:
  limits:
    cpu: "12"
    memory: "32Gi"
  requests:
    cpu: "12"
    memory: "32Gi"

persistence:
  enabled: true
  size: 15Gi

volumePermissions:
  enabled: false   

service:
  type: NodePort
  nodePorts:
    amqp: 30672
    amqpTls: 30671    

metrics:
  enabled: false                   

